<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Event Registration Prototype</title>
  <script type="module" src="/src/main.jsx"></script>
  <link rel="stylesheet" href="App.css" />
</head>

<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useReducer } = React;

    const initialEvents = [
      { id: 1, title: 'Tech Conference 2025', date: '2025-11-10', location: 'Astana', category: 'conference', description: 'A deep dive into the future of AI and cloud computing.' },
      { id: 2, title: 'UI/UX Design Workshop', date: '2025-12-01', location: 'Almaty', category: 'workshop', description: 'Learn user experience design with hands-on practice.' },
      { id: 3, title: 'Music Festival', date: '2025-12-15', location: 'Paris', category: 'concert', description: 'An unforgettable night of live performances.' }
    ];

    function App() {
      const [search, setSearch] = useState('');
      const [category, setCategory] = useState('all');
      const [selectedEvent, setSelectedEvent] = useState(null);
      const [formData, setFormData] = useState({ name: '', email: '', phone: '' });
      const [errors, setErrors] = useState({});

      const filteredEvents = initialEvents.filter(e =>
        (category === 'all' || e.category === category) &&
        e.title.toLowerCase().includes(search.toLowerCase())
      );

      const validate = () => {
        const errs = {};
        if (!formData.name.trim()) errs.name = 'Name is required';
        if (!formData.email.includes('@')) errs.email = 'Invalid email';
        if (!formData.phone.match(/^[0-9\-\+]{9,15}$/)) errs.phone = 'Invalid phone';
        setErrors(errs);
        return Object.keys(errs).length === 0;
      };

      const handleSubmit = (e) => {
        e.preventDefault();
        if (validate()) {
          alert(`Successfully registered for ${selectedEvent.title}!`);
          setSelectedEvent(null);
          setFormData({ name: '', email: '', phone: '' });
          setErrors({});
        }
      };

      return (
        <>
          <header>
            <h1>Event Registration</h1>
          </header>

          <main>
            <div className="filter-bar">
              <input
                type="text"
                placeholder="Search events..."
                value={search}
                onChange={(e) => setSearch(e.target.value)}
              />

              <select value={category} onChange={(e) => setCategory(e.target.value)}>
                <option value="all">All Categories</option>
                <option value="conference">Conference</option>
                <option value="workshop">Workshop</option>
                <option value="concert">Concert</option>
              </select>
            </div>

            <div className="event-list">
              {filteredEvents.map(event => (
                <div key={event.id} className="event-card">
                  <h3>{event.title}</h3>
                  <p className="event-details">üìÖ {event.date} | üìç {event.location}</p>
                  <p>{event.description}</p>
                  <div className="event-actions">
                    <button onClick={() => setSelectedEvent(event)}>Register Now</button>
                  </div>
                </div>
              ))}
            </div>

            {selectedEvent && (
              <div className="modal">
                <div className="modal-content">
                  <h2>Register for {selectedEvent.title}</h2>
                  <form onSubmit={handleSubmit}>
                    <input
                      type="text"
                      placeholder="Full Name"
                      value={formData.name}
                      onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                    />
                    {errors.name && <p className="error-message">{errors.name}</p>}

                    <input
                      type="email"
                      placeholder="Email Address"
                      value={formData.email}
                      onChange={(e) => setFormData({ ...formData, email: e.target.value })}
                    />
                    {errors.email && <p className="error-message">{errors.email}</p>}

                    <input
                      type="tel"
                      placeholder="Phone Number"
                      value={formData.phone}
                      onChange={(e) => setFormData({ ...formData, phone: e.target.value })}
                    />
                    {errors.phone && <p className="error-message">{errors.phone}</p>}

                    <div style={{ marginTop: '1rem', display: 'flex', justifyContent: 'flex-end' }}>
                      <button type="submit">Submit</button>
                      <button type="button" className="close-btn" onClick={() => setSelectedEvent(null)}>Cancel</button>
                    </div>
                  </form>
                </div>
              </div>
            )}
          </main>
        </>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>

</html>



<!-- <!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>my</title>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/App.jsx"></script>
</body>

</html> -->